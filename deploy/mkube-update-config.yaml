# mkube-update configuration for rose1.gw.lo
# Mounted at /etc/mkube-update/config.yaml inside the container.

registryURL: "http://192.168.200.2:5000"
routerosURL: "http://192.168.200.1/rest"
routerosUser: "mkube"
routerosPassword: "mkube-rest"
mkubeAPI: "http://192.168.200.2:8080"
pollSeconds: 60

bootstrap:
  enabled: true
  image: "ghcr.io/glennswest/mkube:edge"
  selfRootDir: "raid1/images/mkube-update-updater"
  tarballDir: "/data"
  container:
    name: "kube.gt.lo"
    interface: "veth-mkube"
    rootDir: "/raid1/images/kube.gt.lo"
    hostname: "kube.gt.lo"
    dns: "192.168.200.199"
    logging: "yes"
    startOnBoot: "yes"
    mountLists: "kube.gt.lo.config"

watches:
  - repo: mkube
    tag: latest
    container: kube.gt.lo
  - repo: mkube-update
    tag: latest
    container: mkube-update-updater
    selfUpdate: true
  - repo: microdns
    tag: latest
    containers:
      - mdns-gw-microdns
      - mdns-g10-microdns
      - mdns-g11-microdns
      - mdns-gt-microdns
    rolling: true
    rollingDelay: 5s
